<!doctype html>
<html>
<head>
<style>
	body {
		margin: 0;
		padding: 0;
		overflow: hidden;
	}
</style>
</head>
<body>
<script src="socket.io/socket.io.js"></script>
<script src="js/jquery.min.js"></script>
<script src="js/three.js"></script>
<script src="js/controls/OrbitControls.js"></script>
<script src="share/MD2CharacterComplex.js"></script>
<script src="share/War3MdlLoader.js"></script>
<script src="share/game.js"></script>
<script>

// start game client
var game = new Client('/'),
	clock = new THREE.Clock()

$(window).bind('resize', function(e) {
	game.camera.aspect = window.innerWidth / window.innerHeight
	game.camera.updateProjectionMatrix()
	game.renderer.setSize(window.innerWidth, window.innerHeight)
}).trigger('resize')

if (!window.requestAnimationFrame) {
	requestAnimationFrame = function(fn) {
		setTimeout(fn, 30)
	}
}
function render() {
	requestAnimationFrame(render)
	var dt = clock.getDelta()
	THREE.AnimationHandler.update(dt)
	game.controls.update(dt)
	game.beforeRender(dt)
	game.renderer.render(game.scene, game.camera)
}
render()

setInterval(function() {
	game.run(10)
}, 10)

</script>
</body>
</html>