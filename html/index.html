<!doctype html>
<html>
<head>
<style>
	body {
		margin: 0;
		padding: 0;
		overflow: hidden;
	}
</style>
</head>
<body>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script src="socket.io/socket.io.js"></script>
<script src="js/three.min.js"></script>
<script src="js/controls/OrbitControls.js"></script>
<script src="share/MD2CharacterComplex.js"></script>
<script src="share/game.js"></script>
<script>

// dummy renderer
var renderer = {
	domElement: document.createElement('div'),
	setSize: function() { },
	render: function() { },
}
try {
	renderer = new THREE.WebGLRenderer()
}
catch (e) {
//	renderer = new THREE.CanvasRenderer()
}

// start game client
var game = new Client('/')

document.body.appendChild(renderer.domElement)
$(window).bind('resize', function(e) {
	game.camera.aspect = window.innerWidth / window.innerHeight
	game.camera.updateProjectionMatrix()
	renderer.setSize(window.innerWidth, window.innerHeight)
}).trigger('resize')

var lastTimeStamp = 0,
	gameTick = newTicker(10, game.run, 10)
function render(t) {
	requestAnimationFrame(render)
	game.controls.update()
	renderer.render(game.scene, game.camera)
	if (t > lastTimeStamp)
		gameTick.run(t - lastTimeStamp)
	lastTimeStamp = t
}
render()

</script>
</body>
</html>