<!doctype html>
<html>
<head>
<style>
	body {
		margin: 0;
		padding: 0;
		overflow: hidden;
	}
</style>
</head>
<body>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script src="socket.io/socket.io.js"></script>
<script src="js/three.min.js"></script>
<script src="js/controls/TrackballControls.js"></script>
<script src="share/MD2CharacterComplex.js"></script>
<script src="share/game.js"></script>
<script>

// init three environment
var renderer = new THREE.WebGLRenderer(),
	camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 1, 10000)

document.body.appendChild(renderer.domElement)
$(window).bind('resize', function(e) {
	camera.position.set(0, 150, 1300)
	camera.aspect = window.innerWidth / window.innerHeight
	camera.updateProjectionMatrix()
	renderer.setSize(window.innerWidth, window.innerHeight)
}).trigger('resize')

// start game client
var game = new Client('/')

var lastTimeStamp = 0,
	gameTick = newTicker(10, game.run, 10)
function render(t) {
	requestAnimationFrame(render)
	renderer.render(game.scene, camera)
	if (t > lastTimeStamp)
		gameTick.run(t - lastTimeStamp)
	lastTimeStamp = t
}
render()

</script>
</body>
</html>